"use strict";(self.webpackChunkdrink_master_app_frontend=self.webpackChunkdrink_master_app_frontend||[]).push([[30],{1998:function(e,a,t){t.d(a,{Z:function(){return l}});var n="ItemNotCocktails_wraper__4YF0J",r="ItemNotCocktails_text__PFtDb",i=t.p+"static/media/no-content-cocktail.575a33f8acc537f0bd25.png",c=t.p+"static/media/no-content-cocktail@2x.c484f488d7f32c744feb.png",s=t(184),l=function(e){var a=e.title;return(0,s.jsxs)("section",{className:n,children:[(0,s.jsx)("img",{srcSet:"".concat(i," 1x, ").concat(c," 2x"),src:i,alt:"no-content-cocktail"}),(0,s.jsx)("p",{className:r,children:a})]})}},3785:function(e,a,t){t.d(a,{Z:function(){return g}});var n=t(1413),r=t(9439),i=t(1087),c="Paginator_paginatorContainer__mhzIw",s="Paginator_paginatorBtn__8Puxb",l="Paginator_arrow__cPvkT",o="Paginator_paginatorList__sAFHA",u="Paginator_active__cK-Vp",d=t(3853),f=t(184),g=function(e){for(var a=e.pagesQty,t=e.params,g=void 0===t?{}:t,m=(0,i.lr)({page:1}),p=(0,r.Z)(m,2),_=p[0],h=p[1],v=parseInt(_.get("page")),Z=[],x=[v-3<0?0:v-3,v+2],k=0;k<a;k+=1)Z.push(k+1);return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("button",{className:s,type:"button",name:"PreviousBtn",onClick:function(){v>1&&h((0,n.Z)((0,n.Z)({},g),{},{page:v-1}))},disabled:1===v,children:(0,f.jsx)(d.YFh,{className:l,size:27})}),(0,f.jsx)("ul",{className:o,children:Z.slice.apply(Z,x).map((function(e){return(0,f.jsx)("button",{className:"".concat(s," ").concat(e===v?u:""),onClick:function(){return a=e,void h((0,n.Z)((0,n.Z)({},g),{},{page:a}));var a},name:e,type:"button",children:e},e)}))}),(0,f.jsx)("button",{className:s,type:"button",name:"NextBtn",onClick:function(){v<a&&h((0,n.Z)((0,n.Z)({},g),{},{page:v+1}))},disabled:v===a,children:(0,f.jsx)(d.Tfp,{className:l,size:27})})]})}},8631:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});var n=t(1413),r=t(3433),i=t(9439),c=t(2791),s=t(3958),l=t(1134),o=t(7689),u=t(3286),d="DrinksSearch_wrapper__mBVOr",f="DrinksSearch_form__1ccEO",g="DrinksSearch_input__b3EX5",m="DrinksSearch_submit__BOtmD",p="DrinksSearch_icon__L8NXE",_=t(3853),h=t(184),v=function(e){var a=e.onFilterChange,t=(0,o.TH)(),v=new URLSearchParams(t.search),Z=v.get("search")||"",x=v.get("category")||"All categories",k=v.get("ingredient")||"All ingredients",j=(0,c.useState)(Z),b=(0,i.Z)(j,2),N=b[0],y=b[1],P=(0,c.useState)(x),S=(0,i.Z)(P,2),A=S[0],C=S[1],w=(0,c.useState)(k),D=(0,i.Z)(w,2),E=D[0],F=D[1],T=(0,u.PR)().data,O=(0,u.Kx)().data,V=(0,l.cI)(),B=V.handleSubmit,I=V.control,L=(0,c.useState)({}),R=(0,i.Z)(L,2),H=R[0],U=R[1],z=[],K=[];if((0,c.useEffect)((function(){y(Z),C(x),F(k)}),[t,x,k,Z]),T&&O){var Q=T.map((function(e){return{value:e,label:e}}));z.push.apply(z,(0,r.Z)(Q));var J=O.map((function(e){return{value:e.title,label:e.title}}));K.push.apply(K,(0,r.Z)(J))}(0,c.useEffect)((function(){a(H)}),[H,a]);var M={option:function(e,a){return(0,n.Z)((0,n.Z)({},e),{},{color:a.isSelected?"#f3f3f3":"rgba(243, 243, 243, 0.4)"})}};return(0,h.jsxs)("div",{className:d,children:[(0,h.jsxs)("form",{className:f,onSubmit:B((function(e){U((0,n.Z)((0,n.Z)({},H),{},{search:e.name}))})),children:[(0,h.jsx)(l.Qr,{name:"name",control:I,defaultValue:N,render:function(e){var a=e.field;return(0,h.jsx)("input",(0,n.Z)({className:g},a))}}),(0,h.jsx)("button",{className:m,type:"submit",children:(0,h.jsx)(_.jRj,{className:p})})]}),(0,h.jsx)(s.ZP,{classNamePrefix:"drinks-page-selector",placeholder:"Select...",defaultValue:"",name:"category",value:{value:A,label:A},options:[{value:"All categories",label:"All categories"}].concat(z),onChange:function(e){C("All categories"===e.value?"":e.value),U((0,n.Z)((0,n.Z)({},H),{},{category:"All categories"===e.value?"":e.value}))},styles:M}),(0,h.jsx)(s.ZP,{classNamePrefix:"drinks-page-selector",placeholder:"Select...",defaultValue:"",name:"ingredient",value:{value:E,label:E},options:[{value:"All ingredients",label:"All ingredients"}].concat(K),onChange:function(e){F("All ingredients"===e.value?"":e.value),U((0,n.Z)((0,n.Z)({},H),{},{ingredient:"All ingredients"===e.value?"":e.value}))},styles:M})]})},Z=t(8423),x=t(7072),k="DrinksList_list__OiUJk",j=function(e){var a=e.cocktails;if(!a)return(0,h.jsx)(x.Z,{});var t=a.drinks;return(0,h.jsx)("ul",{className:k,children:t.map((function(e){return(0,h.jsx)(Z.Z,{id:e._id,drink:e.drink,drinkThumb:e.drinkThumb},e._id)}))})},b=t(1405),N="DrinkPageTitle_title__Mnm9y",y=function(e){var a=e.title;return(0,h.jsx)("h2",{className:N,children:a})},P=t(1087),S=t(9846),A=t(3785),C=t(1998),w="DrinksPage_wrapper__3w1um",D=function(){var e=(0,o.TH)(),a=new URLSearchParams(e.search).get("category"),t=(0,o.UO)().categoryName,s=(0,u.PR)().data,l=(0,c.useState)(""),d=(0,i.Z)(l,2),f=d[0],g=d[1],m=(0,c.useState)(!0),p=(0,i.Z)(m,2),_=p[0],Z=p[1],x=(0,u.VK)(f),k=x.data,N=x.isError,D=(0,S.Z)().width,E=(0,P.lr)({category:t.replace("_","/")?t.replace("_","/"):"All categories",limit:10,page:1}),F=(0,i.Z)(E,2),T=F[0],O=F[1],V=(0,c.useCallback)((function(){return Object.fromEntries((0,r.Z)(T))}),[T]);(0,c.useEffect)((function(){s&&_&&(s.includes(t)||(O((0,n.Z)((0,n.Z)({},V()),{},{category:s.includes(a)?a:"Cocktail"})),Z(!1)))}),[s,_,t,O,V,a]),(0,c.useEffect)((function(){"All categories"===t&&O((0,n.Z)((0,n.Z)({},V()),{},{category:""})),O((0,n.Z)((0,n.Z)({},V()),{},{limit:D>=1440?9:10}))}),[O,D,V,t]);var B=(0,c.useCallback)((function(e){O((0,n.Z)((0,n.Z)({},V()),e))}),[V,O]);(0,c.useEffect)((function(){var e=V(),a=e.search,t=void 0===a?"":a,n=e.category,r=e.ingredient,i=void 0===r?"":r,c=e.limit,s=e.page;g("?search=".concat(t,"&category=").concat("All categories"===n?"":n,"&ingredient=").concat("All ingredients"===i?"":i,"&limit=").concat(c,"&page=").concat(s))}),[V]);var I=Math.ceil((null===k||void 0===k?void 0:k.totalHits)/T.get("limit"));return(0,h.jsx)("section",{className:w,children:(0,h.jsxs)(b.Z,{children:[(0,h.jsx)(y,{title:"Drinks"}),(0,h.jsx)(v,{onFilterChange:B}),N?(0,h.jsx)(C.Z,{title:"No drinks were found"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(j,{cocktails:k}),(0,h.jsx)(A.Z,{pagesQty:I,params:(0,n.Z)({},V())})]})]})})}}}]);
//# sourceMappingURL=30.a3d12a03.chunk.js.map