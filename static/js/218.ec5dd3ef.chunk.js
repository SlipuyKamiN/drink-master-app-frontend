"use strict";(self.webpackChunkdrink_master_app_frontend=self.webpackChunkdrink_master_app_frontend||[]).push([[218],{6538:function(e,n,i){var r=i(5691),t=i(184);n.Z=function(e){var n=e.title,i=e.style;return(0,t.jsx)("h2",{className:r.Z.title,style:i,children:n})}},218:function(e,n,i){i.r(n),i.d(n,{default:function(){return O}});var r=i(3433),t=i(9439),s=i(5273),a=i(3958),l={form:"RecipeDescriptionFields_form__lhBJE",form__wrapper:"RecipeDescriptionFields_form__wrapper__Onnfp",form__input:"RecipeDescriptionFields_form__input__MGmHP",form__input__:"RecipeDescriptionFields_form__input____m0KRN",file:"RecipeDescriptionFields_file__u-l5Z",file__input:"RecipeDescriptionFields_file__input__hFToO",file__btn:"RecipeDescriptionFields_file__btn__-0Bng",file__text:"RecipeDescriptionFields_file__text__CowPo",img:"RecipeDescriptionFields_img__g7f+V",img__clear:"RecipeDescriptionFields_img__clear__q4knG",error:"RecipeDescriptionFields_error__CXXna",error__drink:"RecipeDescriptionFields_error__drink__VKtD2",error__description:"RecipeDescriptionFields_error__description__Cw+di",error__category:"RecipeDescriptionFields_error__category__eji3t",error__img:"RecipeDescriptionFields_error__img__LWdmQ",category:"RecipeDescriptionFields_category__tLyL0"},c=i(3853),_=i(3286),o=i(184),p=function(e){var n=e.handleInputChange,i=n.handleFileChange,r=n.handleDrinkChange,t=n.handleCategoryChange,s=n.handleDescriptionChange,p=n.handleGlassChange,d=e.value,u=d.selectedImage,m=d.drink,g=d.description,h=d.category,f=d.glass,x=d.isShowError,j=e.clearImage,N=(0,_.PR)(""),v=N.data,b=N.isSuccess,R=(0,_.f3)(""),F=R.data,C=R.isSuccess,y=function(e){return e.map((function(e){return{value:e,label:e}}))};return(0,o.jsxs)("div",{className:l.form,children:[(0,o.jsx)("div",{className:l.form__wrapper,children:u?(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{className:l.img,src:URL.createObjectURL(u),alt:"Preview"}),(0,o.jsx)("button",{className:l.img__clear,onClick:j,type:"button",children:(0,o.jsx)(c.q5L,{size:"23",color:"#f3f3f3"})})]}):(0,o.jsxs)("div",{className:l.file,children:[(0,o.jsx)("input",{className:l.file__input,type:"file",name:"drink-photo",accept:"image/png, image/jpeg",onChange:i}),(0,o.jsx)("button",{className:l.file__btn,type:"button",children:(0,o.jsx)(c.OvN,{size:"28",color:"#161F37"})}),(0,o.jsx)("p",{className:l.file__text,children:"Add image"}),x&&null===u&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__img),children:"The field image must be filled"})]})}),(0,o.jsxs)("div",{className:l.category,children:[(0,o.jsx)("input",{className:l.form__input,type:"text",name:"drink",placeholder:"Enter item title",onChange:r,value:m}),x&&""===m&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__drink),children:"The field drink must be filled"}),(0,o.jsx)("input",{className:l.form__input,type:"text",name:"description",onChange:s,value:g,placeholder:"Enter about recipe"}),x&&""===g&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__description),children:"The field description must be filled"}),(0,o.jsx)(a.ZP,{classNamePrefix:"select-description",onChange:t,defaultValue:h,placeholder:"",options:b?y(v):[]}),x&&""===h&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__category),children:"The field category must be filled"}),(0,o.jsx)(a.ZP,{classNamePrefix:"select-description-glass",onChange:p,defaultValue:f,placeholder:"",options:C?y(F):[]}),x&&""===f&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__glass),children:"The field glass must be filled"})]})]})},d={wrapper:"RecipeIngredientsFields_wrapper__qkX2L",ingredients:"RecipeIngredientsFields_ingredients__dWzvh",ingredients__title:"RecipeIngredientsFields_ingredients__title__A3h4q",ingredients__thumb:"RecipeIngredientsFields_ingredients__thumb__+x-kX",ingredients__wrapper:"RecipeIngredientsFields_ingredients__wrapper__sl4yN",ingredients__icon:"RecipeIngredientsFields_ingredients__icon__O59X3",ingredients__input:"RecipeIngredientsFields_ingredients__input__VESxO",ingredients__btn:"RecipeIngredientsFields_ingredients__btn__9MUQf",counter:"RecipeIngredientsFields_counter__gJj8c",counter__btn:"RecipeIngredientsFields_counter__btn__C9Swa",counter__quantity:"RecipeIngredientsFields_counter__quantity__R9t35",error:"RecipeIngredientsFields_error__9Umbh"},u=function(e){var n=e.ingredients,i=e.quantity,r=e.isShowError,t=e.addIngredient,s=e.removeIngredient,l=e.handleIngredientsChange,p=e.reductionIngredient,u=(0,_.Kx)(""),m=u.data,g=u.isSuccess,h=function(e,n,i){l(e,n,i)},f=[{value:"cl",label:"cl"},{value:"oz",label:"oz"},{value:"tsp",label:"tsp"},{value:"tblsp",label:"tblsp"},{value:"part",label:"part"},{value:"ml",label:"ml"},{value:"shot",label:"shot"},{value:"cubes",label:"cubes"},{value:"cups",label:"cups"}];return(0,o.jsxs)("div",{className:d.ingredients,children:[(0,o.jsxs)("div",{className:d.wrapper,children:[(0,o.jsx)("h3",{className:d.ingredients__title,children:"Ingredients"}),(0,o.jsxs)("div",{className:d.counter,children:[(0,o.jsx)("button",{className:d.counter__btn,type:"button",onClick:p,children:(0,o.jsx)(c.ego,{className:d.counter__icon,size:"16px"})}),(0,o.jsx)("p",{className:d.counter__quantity,children:i}),(0,o.jsx)("button",{className:d.counter__btn,type:"button",onClick:t,children:(0,o.jsx)(c.OvN,{className:d.counter__icon,size:"16px"})})]})]}),(0,o.jsx)("ul",{children:n.map((function(e){var i=e.id,t=(e.amount,e.measurement,e.ingredient);return(0,o.jsxs)("li",{className:d.ingredients__thumb,children:[(0,o.jsxs)("div",{className:d.ingredients__wrapper,children:[(0,o.jsx)(a.ZP,{classNamePrefix:"ingredient-select",options:g?m.map((function(e){var n=e.title;return{value:n,label:n}})):[],name:"ingredient",onChange:function(e){return h(i,"ingredient",e.value)},placeholder:"Ingredient"}),r&&""===t&&(0,o.jsx)("p",{className:d.error,children:"The field ingredient must be filled"}),(0,o.jsx)("input",{className:d.ingredients__input,type:"text",name:"amount",onChange:function(e){return h(i,e.target.name,e.target.value)},defaultValue:"1",required:!0}),(0,o.jsx)(a.ZP,{classNamePrefix:"amount-select",options:f,name:"measurement",onChange:function(e){return h(i,"measurement",e.value)},placeholder:"",defaultValue:f[0],required:!0})]}),1!==n.length&&(0,o.jsx)("button",{className:d.ingredients__btn,type:"button",onClick:function(){s(i)},children:(0,o.jsx)(c.q5L,{className:d.ingridients__icon,size:"18px"})})]},i)}))})]})},m="RecipePreparationFields_textarea__goYTx",g="RecipePreparationFields_textarea__value__fuOCp",h="RecipePreparationFields_title__UZ0yR",f="RecipePreparationFields_error__gHVth",x=function(e){var n=e.handleTextareaChange,i=e.instructions,r=e.isShowError;return(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("h3",{className:h,children:"Recipe Preparation"}),(0,o.jsx)("textarea",{className:g,onChange:n,rows:"30",placeholder:"Enter the recipe"}),r&&0===i.length&&(0,o.jsx)("p",{className:f,children:"The field preparation must be filled"})]})},j="AddRecipeForm_addRecipe__nnFPx",N="AddRecipeForm_addRecipe__wrapper__m0Xgp",v="AddRecipeForm_form__ncBxs",b="AddRecipeForm_btn__rZxDr",R="AddRecipeForm_spinner__wrapper__nh84B",F=i(2791),C=i(8816),y=i(7689),w=i(4394),P=i(7072),I=function(){var e=(0,F.useState)(null),n=(0,t.Z)(e,2),i=n[0],a=n[1],l=(0,F.useState)(""),c=(0,t.Z)(l,2),_=c[0],d=c[1],m=(0,F.useState)(""),g=(0,t.Z)(m,2),h=g[0],f=g[1],j=(0,F.useState)(""),N=(0,t.Z)(j,2),I=N[0],k=N[1],Z=(0,F.useState)(""),D=(0,t.Z)(Z,2),S=D[0],T=D[1],z=(0,F.useState)([{id:(0,s.x0)(),ingredient:"",amount:"1",measurement:"cl"}]),L=(0,t.Z)(z,2),q=L[0],E=L[1],U=(0,F.useState)(1),O=(0,t.Z)(U,2),A=O[0],V=O[1],X=(0,F.useState)([]),M=(0,t.Z)(X,2),B=M[0],Q=M[1],G=(0,F.useState)(!1),J=(0,t.Z)(G,2),H=J[0],K=J[1],W=(0,C._6)(),Y=(0,t.Z)(W,2),$=Y[0],ee=Y[1].isLoading,ne=(0,y.s0)();return(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=q.map((function(e){return{title:e.ingredient,measure:"".concat(e.amount," ").concat(e.measurement)}})),r=!q.find((function(e){return""===e.ingredient})),t=new FormData;if(t.append("drink",_),t.append("description",h),t.append("category",I),t.append("glass",S),t.append("ingredients",JSON.stringify(n)),t.append("instructions",JSON.stringify(B)),t.append("recipe",i),null===i||""===_||""===I||""===S||""===h||""===r.ingredient||0===B.length)return K(!0);$(t).unwrap().then((function(){ne("/my"),K(!1)})).catch((function(e){return(0,w.t)(e.data.message)}))},className:v,autoComplete:"off",children:[(0,o.jsx)(p,{handleInputChange:{handleFileChange:function(e){var n=e.target.files[0];a(n)},handleDrinkChange:function(e){return d(e.target.value)},handleCategoryChange:function(e){return k(e.value)},handleDescriptionChange:function(e){return f(e.target.value)},handleGlassChange:function(e){return T(e.value)}},value:{selectedImage:i,drink:_,description:h,category:I,glass:S,isShowError:H},clearImage:function(){return a(null)}}),(0,o.jsx)(u,{ingredients:q,quantity:A,isShowError:H,setIngredients:E,handleIngredientsChange:function(e,n,i){E((function(){return q.map((function(r){return r.id===e&&(r[n]=i),r}))}))},addIngredient:function(){V((function(e){return e+1})),E((function(e){return[].concat((0,r.Z)(e),[{id:(0,s.x0)(),ingredient:"",amount:"1",measurement:"cl"}])}))},removeIngredient:function(e){V((function(e){return e-1})),E((function(n){return n.filter((function(n){return n.id!==e}))}))},reductionIngredient:function(){if(1===A)return(0,w.t)("Must have at least one ingredient");V((function(e){return e-1})),E((function(e){return e.slice(0,e.length-1)}))}}),(0,o.jsx)(x,{handleTextareaChange:function(e){var n=e.target.value.split("\n");Q(n)},instructions:B,isShowErrorr:H}),(0,o.jsxs)("div",{className:R,children:[(0,o.jsx)("button",{className:b,type:"submit",disabled:ee,children:"Add"}),ee&&(0,o.jsx)(P.Z,{size:40})]})]})},k="FollowUs_followUs__aMV1u",Z="FollowUs_followUs__title__j29LC",D=i(1047),S=function(){return(0,o.jsxs)("div",{className:k,children:[(0,o.jsx)("h3",{className:Z,children:"Follow Us"}),(0,o.jsx)(D.Z,{})]})},T={popular__title:"PopularRecipe_popular__title__ddQQ3",popular__thumb:"PopularRecipe_popular__thumb__ag47s",popular__list:"PopularRecipe_popular__list__XXNom",popular__img:"PopularRecipe_popular__img__177iP",popular__wrapper:"PopularRecipe_popular__wrapper__BbZ0u",popular__name:"PopularRecipe_popular__name__pzDz6",popular__description:"PopularRecipe_popular__description__iy+8L",spinner:"PopularRecipe_spinner__6M2LQ",text:"PopularRecipe_text__gnYoH"},z=i(1545),L=i(1087),q=function(){var e=(0,_.X4)(""),n=e.data,i=e.isSuccess,r=e.isLoading;return(0,o.jsxs)("div",{className:T.popular,children:[(0,o.jsx)("h3",{className:T.popular__title,children:"Popular recipe"}),r&&(0,o.jsx)(P.Z,{size:100}),(0,o.jsx)("ul",{className:T.popular__list,children:i&&n.map((function(e){var n=e._id,i=e.drinkThumb,r=e.drink,t=e.description;return(0,o.jsx)("li",{className:T.popular__item,children:(0,o.jsx)(L.rU,{to:"/recipe/".concat(n),className:T.popular__link,children:(0,o.jsxs)("div",{className:T.popular__thumb,children:[(0,o.jsx)("img",{src:i,alt:"coctail",className:T.popular__img,width:"90px"}),(0,o.jsxs)("div",{className:T.popular__wrapper,children:[(0,o.jsx)("h3",{className:T.popular__name,children:r}),(0,o.jsx)("p",{className:T.popular__description,children:t?t.substring(0,88)+"...":"No description"})]})]})})},n)}))}),i&&0===n.length&&(0,o.jsxs)("div",{className:T.spinner,children:[(0,o.jsx)(z.W2N,{size:"70px",color:"white"}),(0,o.jsx)("p",{className:T.text,children:"The list of popular recipes is currently empty"})]})]})},E=i(1405),U=i(6538),O=function(){return(0,o.jsxs)(E.Z,{children:[(0,o.jsx)(U.Z,{title:"Add recipe"}),(0,o.jsxs)("div",{className:j,children:[(0,o.jsx)(I,{}),(0,o.jsxs)("div",{className:N,children:[(0,o.jsx)(S,{}),(0,o.jsx)(q,{})]})]})]})}},5691:function(e,n){n.Z={title:"MainTitle_title__yeeEP"}}}]);
//# sourceMappingURL=218.ec5dd3ef.chunk.js.map