"use strict";(self.webpackChunkdrink_master_app_frontend=self.webpackChunkdrink_master_app_frontend||[]).push([[218],{6538:function(e,n,i){var r=i(5691),t=i(184);n.Z=function(e){var n=e.title,i=e.style;return(0,t.jsx)("h2",{className:r.Z.title,style:i,children:n})}},218:function(e,n,i){i.r(n),i.d(n,{default:function(){return O}});var r=i(3433),t=i(9439),s=i(5273),a=i(3958),l={form:"RecipeDescriptionFields_form__lhBJE",form__wrapper:"RecipeDescriptionFields_form__wrapper__Onnfp",form__input:"RecipeDescriptionFields_form__input__MGmHP",file:"RecipeDescriptionFields_file__u-l5Z",file__input:"RecipeDescriptionFields_file__input__hFToO",file__btn:"RecipeDescriptionFields_file__btn__-0Bng",file__text:"RecipeDescriptionFields_file__text__CowPo",img:"RecipeDescriptionFields_img__g7f+V",error:"RecipeDescriptionFields_error__CXXna",error__drink:"RecipeDescriptionFields_error__drink__VKtD2",error__description:"RecipeDescriptionFields_error__description__Cw+di",error__category:"RecipeDescriptionFields_error__category__eji3t",error__img:"RecipeDescriptionFields_error__img__LWdmQ",category:"RecipeDescriptionFields_category__tLyL0"},c=i(3853),_=i(3286),o=i(184),d=function(e){var n=e.handleInputChange,i=n.handleFileChange,r=n.handleDrinkChange,t=n.handleCategoryChange,s=n.handleDescriptionChange,d=n.handleGlassChange,p=e.value,u=p.selectedImage,m=p.drink,h=p.description,g=p.category,f=p.glass,x=p.isShowError,j=(0,_.PR)(""),N=j.data,v=j.isSuccess,b=(0,_.f3)(""),R=b.data,F=b.isSuccess,y=function(e){return e.map((function(e){return{value:e,label:e}}))};return(0,o.jsxs)("div",{className:l.form,children:[(0,o.jsx)("div",{className:l.form__wrapper,children:u?(0,o.jsx)("img",{className:l.img,src:URL.createObjectURL(u),alt:"Preview"}):(0,o.jsxs)("div",{className:l.file,children:[(0,o.jsx)("input",{className:l.file__input,type:"file",name:"drink-photo",accept:"image/png, image/jpeg",onChange:i}),(0,o.jsx)("button",{className:l.file__btn,type:"button",children:(0,o.jsx)(c.OvN,{size:"28",color:"#161F37"})}),(0,o.jsx)("p",{className:l.file__text,children:"Add image"}),x&&null===u&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__img),children:"The field image must be filled"})]})}),(0,o.jsxs)("div",{className:l.category,children:[(0,o.jsx)("input",{className:l.form__input,type:"text",name:"drink",id:"",placeholder:"Enter item title",onChange:r,value:m}),x&&""===m&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__drink),children:"The field drink must be filled"}),(0,o.jsx)("input",{className:l.form__input,type:"text",name:"description",id:"",onChange:s,value:h,placeholder:"Enter about recipe"}),x&&""===h&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__description),children:"The field description must be filled"}),(0,o.jsx)(a.ZP,{classNamePrefix:"select-description",placeholder:"",onChange:t,defaultValue:g,options:v?y(N):[]}),x&&""===g&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__category),children:"The field category must be filled"}),(0,o.jsx)(a.ZP,{classNamePrefix:"select-description-glass",placeholder:"",onChange:d,defaultValue:f,options:F?y(R):[]}),x&&""===f&&(0,o.jsx)("p",{className:"".concat(l.error," ").concat(l.error__glass),children:"The field glass must be filled"})]})]})},p={wrapper:"RecipeIngredientsFields_wrapper__qkX2L",ingredients:"RecipeIngredientsFields_ingredients__dWzvh",ingredients__title:"RecipeIngredientsFields_ingredients__title__A3h4q",ingredients__thumb:"RecipeIngredientsFields_ingredients__thumb__+x-kX",ingredients__wrapper:"RecipeIngredientsFields_ingredients__wrapper__sl4yN",ingredients__icon:"RecipeIngredientsFields_ingredients__icon__O59X3",ingredients__input:"RecipeIngredientsFields_ingredients__input__VESxO",ingredients__btn:"RecipeIngredientsFields_ingredients__btn__9MUQf",counter:"RecipeIngredientsFields_counter__gJj8c",counter__btn:"RecipeIngredientsFields_counter__btn__C9Swa",counter__quantity:"RecipeIngredientsFields_counter__quantity__R9t35",error:"RecipeIngredientsFields_error__9Umbh"},u=function(e){var n=e.ingredients,i=e.quantity,r=e.isShowError,t=e.addIngredient,s=e.removeIngredient,l=e.handleIngredientsChange,d=e.reductionIngredient,u=(0,_.Kx)(""),m=u.data,h=u.isSuccess,g=function(e,n,i){l(e,n,i)},f=[{value:"cl",label:"cl"},{value:"oz",label:"oz"},{value:"tsp",label:"tsp"},{value:"tblsp",label:"tblsp"},{value:"part",label:"part"},{value:"ml",label:"ml"},{value:"shot",label:"shot"},{value:"cubes",label:"cubes"},{value:"cups",label:"cups"}];return(0,o.jsxs)("div",{className:p.ingredients,children:[(0,o.jsxs)("div",{className:p.wrapper,children:[(0,o.jsx)("h3",{className:p.ingredients__title,children:"Ingredients"}),(0,o.jsxs)("div",{className:p.counter,children:[(0,o.jsx)("button",{className:p.counter__btn,type:"button",onClick:d,children:(0,o.jsx)(c.ego,{className:p.counter__icon,size:"16px"})}),(0,o.jsx)("p",{className:p.counter__quantity,children:i}),(0,o.jsx)("button",{className:p.counter__btn,type:"button",onClick:t,children:(0,o.jsx)(c.OvN,{className:p.counter__icon,size:"16px"})})]})]}),(0,o.jsx)("ul",{children:n.map((function(e){var i=e.id,t=(e.amount,e.measurement,e.ingredient);return(0,o.jsxs)("li",{className:p.ingredients__thumb,children:[(0,o.jsxs)("div",{className:p.ingredients__wrapper,children:[(0,o.jsx)(a.ZP,{classNamePrefix:"ingredient-select",options:h?m.map((function(e){var n=e.title;return{value:n,label:n}})):[],name:"ingredient",onChange:function(e){return g(i,"ingredient",e.value)},placeholder:"Ingredient"}),r&&""===t&&(0,o.jsx)("p",{className:p.error,children:"The field ingredient must be filled"}),(0,o.jsx)("input",{className:p.ingredients__input,type:"text",name:"amount",onChange:function(e){return g(i,e.target.name,e.target.value)},defaultValue:"1",required:!0}),(0,o.jsx)(a.ZP,{classNamePrefix:"amount-select",options:f,name:"measurement",onChange:function(e){return g(i,"measurement",e.value)},placeholder:"",defaultValue:f[0],required:!0})]}),1!==n.length&&(0,o.jsx)("button",{className:p.ingredients__btn,type:"button",onClick:function(){s(i)},children:(0,o.jsx)(c.q5L,{className:p.ingridients__icon,size:"18px"})})]},i)}))})]})},m="RecipePreparationFields_textarea__goYTx",h="RecipePreparationFields_textarea__value__fuOCp",g="RecipePreparationFields_title__UZ0yR",f="RecipePreparationFields_error__gHVth",x=function(e){var n=e.handleTextareaChange,i=e.instructions,r=e.isShowError;return(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("h3",{className:g,children:"Recipe Preparation"}),(0,o.jsx)("textarea",{className:h,onChange:n,rows:"30",placeholder:"Enter the recipe"}),r&&0===i.length&&(0,o.jsx)("p",{className:f,children:"The field preparation must be filled"})]})},j="AddRecipeForm_addRecipe__nnFPx",N="AddRecipeForm_addRecipe__wrapper__m0Xgp",v="AddRecipeForm_form__ncBxs",b="AddRecipeForm_btn__rZxDr",R="AddRecipeForm_spinner__wrapper__nh84B",F=i(2791),y=i(8816),C=i(7689),w=i(4394),P=i(7072),I=function(){var e=(0,F.useState)(null),n=(0,t.Z)(e,2),i=n[0],a=n[1],l=(0,F.useState)(""),c=(0,t.Z)(l,2),_=c[0],p=c[1],m=(0,F.useState)(""),h=(0,t.Z)(m,2),g=h[0],f=h[1],j=(0,F.useState)(""),N=(0,t.Z)(j,2),I=N[0],Z=N[1],k=(0,F.useState)(""),S=(0,t.Z)(k,2),D=S[0],T=S[1],z=(0,F.useState)([{id:(0,s.x0)(),ingredient:"",amount:"1",measurement:"cl"}]),E=(0,t.Z)(z,2),L=E[0],q=E[1],O=(0,F.useState)(1),U=(0,t.Z)(O,2),A=U[0],V=U[1],X=(0,F.useState)([]),M=(0,t.Z)(X,2),B=M[0],Q=M[1],J=(0,F.useState)(!1),G=(0,t.Z)(J,2),H=G[0],W=G[1],K=(0,y._6)(),Y=(0,t.Z)(K,2),$=Y[0],ee=Y[1].isLoading,ne=(0,C.s0)();return(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=L.map((function(e){return{title:e.ingredient,measure:"".concat(e.amount," ").concat(e.measurement)}})),r=!L.find((function(e){return""===e.ingredient})),t=new FormData;if(t.append("drink",_),t.append("description",g),t.append("category",I),t.append("glass",D),t.append("ingredients",JSON.stringify(n)),t.append("instructions",JSON.stringify(B)),t.append("recipe",i),null===i||""===_||""===I||""===D||""===g||""===r.ingredient||0===B.length)return W(!0);$(t).unwrap().then((function(){ne("/my"),W(!1)})).catch((function(e){return(0,w.t)(e.data.message)}))},className:v,action:"",children:[(0,o.jsx)(d,{handleInputChange:{handleFileChange:function(e){var n=e.target.files[0];a(n)},handleDrinkChange:function(e){return p(e.target.value)},handleCategoryChange:function(e){return Z(e.value)},handleDescriptionChange:function(e){return f(e.target.value)},handleGlassChange:function(e){return T(e.value)}},value:{selectedImage:i,drink:_,description:g,category:I,glass:D,isShowError:H}}),(0,o.jsx)(u,{ingredients:L,quantity:A,isShowError:H,setIngredients:q,handleIngredientsChange:function(e,n,i){q((function(){return L.map((function(r){return r.id===e&&(r[n]=i),r}))}))},addIngredient:function(){V((function(e){return e+1})),q((function(e){return[].concat((0,r.Z)(e),[{id:(0,s.x0)(),ingredient:"",amount:"1",measurement:"cl"}])}))},removeIngredient:function(e){V((function(e){return e-1})),q((function(n){return n.filter((function(n){return n.id!==e}))}))},reductionIngredient:function(){if(1===A)return(0,w.t)("Must have at leastone ingredient");V((function(e){return e-1})),q((function(e){return e.slice(0,e.length-1)}))}}),(0,o.jsx)(x,{handleTextareaChange:function(e){var n=e.target.value.split("\n");Q(n)},instructions:B,isShowErrorr:H}),(0,o.jsxs)("div",{className:R,children:[(0,o.jsx)("button",{className:b,type:"submit",disabled:ee,children:"Add"}),ee&&(0,o.jsx)(P.Z,{size:40})]})]})},Z="FollowUs_followUs__aMV1u",k="FollowUs_followUs__title__j29LC",S=i(1047),D=function(){return(0,o.jsxs)("div",{className:Z,children:[(0,o.jsx)("h3",{className:k,children:"Follow Us"}),(0,o.jsx)(S.Z,{})]})},T={popular__title:"PopularRecipe_popular__title__ddQQ3",popular__thumb:"PopularRecipe_popular__thumb__ag47s",popular__list:"PopularRecipe_popular__list__XXNom",popular__img:"PopularRecipe_popular__img__177iP",popular__wrapper:"PopularRecipe_popular__wrapper__BbZ0u",popular__name:"PopularRecipe_popular__name__pzDz6",popular__description:"PopularRecipe_popular__description__iy+8L",spinner:"PopularRecipe_spinner__6M2LQ",text:"PopularRecipe_text__gnYoH"},z=i(1545),E=function(){var e=(0,_.X4)(""),n=e.data,i=e.isSuccess,r=e.isLoading;return(0,o.jsxs)("div",{className:T.popular,children:[(0,o.jsx)("h3",{className:T.popular__title,children:"Popular recipe"}),r&&(0,o.jsx)(P.Z,{size:100}),(0,o.jsx)("ul",{className:T.popular__list,children:i&&n.map((function(e){var n=e._id,i=e.drinkThumb,r=e.drink,t=e.instructions;return(0,o.jsx)("li",{className:T.popular__item,children:(0,o.jsx)("a",{href:"http://localhost:3000/drink-master-app-frontend/recipe/".concat(n),className:T.popular__link,children:(0,o.jsxs)("div",{className:T.popular__thumb,children:[(0,o.jsx)("img",{src:i,alt:"coctail",className:T.popular__img,width:"90px"}),(0,o.jsxs)("div",{className:T.popular__wrapper,children:[(0,o.jsx)("h3",{className:T.popular__name,children:r}),(0,o.jsx)("p",{className:T.popular__description,children:t.substring(0,88)+"..."})]})]})})},n)}))}),i&&0===n.length&&(0,o.jsxs)("div",{className:T.spinner,children:[(0,o.jsx)(z.W2N,{size:"70px",color:"white"}),(0,o.jsx)("p",{className:T.text,children:"The list of popular recipes is currently empty"})]})]})},L=i(1405),q=i(6538),O=function(){return(0,o.jsxs)(L.Z,{children:[(0,o.jsx)(q.Z,{title:"Add recipe"}),(0,o.jsxs)("div",{className:j,children:[(0,o.jsx)(I,{}),(0,o.jsxs)("div",{className:N,children:[(0,o.jsx)(D,{}),(0,o.jsx)(E,{})]})]})]})}},5691:function(e,n){n.Z={title:"MainTitle_title__yeeEP"}}}]);
//# sourceMappingURL=218.c5b89824.chunk.js.map