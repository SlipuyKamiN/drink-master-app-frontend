"use strict";(self.webpackChunkdrink_master_app_frontend=self.webpackChunkdrink_master_app_frontend||[]).push([[30],{1998:function(e,t,a){a.d(t,{Z:function(){return l}});var n="ItemNotCocktails_wraper__4YF0J",r="ItemNotCocktails_text__PFtDb",i=a.p+"static/media/no-content-cocktail.575a33f8acc537f0bd25.png",c=a.p+"static/media/no-content-cocktail@2x.c484f488d7f32c744feb.png",s=a(184),l=function(e){var t=e.title;return(0,s.jsxs)("section",{className:n,children:[(0,s.jsx)("img",{srcSet:"".concat(i," 1x, ").concat(c," 2x"),src:i,alt:"no-content-cocktail"}),(0,s.jsx)("p",{className:r,children:t})]})}},3785:function(e,t,a){a.d(t,{Z:function(){return f}});var n=a(1413),r=a(9439),i=a(1087),c="Paginator_paginatorContainer__mhzIw",s="Paginator_paginatorBtn__8Puxb",l="Paginator_arrow__cPvkT",o="Paginator_paginatorList__sAFHA",u="Paginator_active__cK-Vp",d=a(3853),g=a(184),f=function(e){for(var t=e.pagesQty,a=e.params,f=void 0===a?{}:a,m=(0,i.lr)({page:1}),p=(0,r.Z)(m,2),_=p[0],h=p[1],v=parseInt(_.get("page")),Z=[],x=[v-3<0?0:v-3,v+2],k=0;k<t;k+=1)Z.push(k+1);return(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("button",{className:s,type:"button",name:"PreviousBtn",onClick:function(){v>1&&h((0,n.Z)((0,n.Z)({},f),{},{page:v-1}))},disabled:1===v,children:(0,g.jsx)(d.YFh,{className:l,size:27})}),(0,g.jsx)("ul",{className:o,children:Z.slice.apply(Z,x).map((function(e){return(0,g.jsx)("button",{className:"".concat(s," ").concat(e===v?u:""),onClick:function(){return t=e,void h((0,n.Z)((0,n.Z)({},f),{},{page:t}));var t},name:e,type:"button",children:e},e)}))}),(0,g.jsx)("button",{className:s,type:"button",name:"NextBtn",onClick:function(){v<t&&h((0,n.Z)((0,n.Z)({},f),{},{page:v+1}))},disabled:v===t,children:(0,g.jsx)(d.Tfp,{className:l,size:27})})]})}},8631:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var n=a(1413),r=a(3433),i=a(9439),c=a(2791),s=a(3958),l=a(1134),o=a(7689),u=a(3286),d="DrinksSearch_wrapper__mBVOr",g="DrinksSearch_form__1ccEO",f="DrinksSearch_input__b3EX5",m="DrinksSearch_submit__BOtmD",p="DrinksSearch_icon__L8NXE",_=a(3853),h=a(184),v=function(e){var t=e.onFilterChange,a=(0,o.TH)(),v=new URLSearchParams(a.search),Z=v.get("search")||"",x=v.get("category")||"All categories",k=v.get("ingredient")||"All ingredients";(0,c.useEffect)((function(){y(Z),A(x),F(k)}),[a,Z,x,k]);var b=(0,c.useState)(Z),j=(0,i.Z)(b,2),N=j[0],y=j[1],P=(0,c.useState)(x),S=(0,i.Z)(P,2),C=S[0],A=S[1],w=(0,c.useState)(k),D=(0,i.Z)(w,2),E=D[0],F=D[1],T=(0,u.PR)().data,O=(0,u.Kx)().data,B=(0,l.cI)(),I=B.register,L=B.handleSubmit,R=(0,c.useState)({}),V=(0,i.Z)(R,2),H=V[0],U=V[1],z=[],K=[];if(T&&O){var J=T.map((function(e){return{value:e,label:e}}));z.push.apply(z,(0,r.Z)(J));var M=O.map((function(e){return{value:e.title,label:e.title}}));K.push.apply(K,(0,r.Z)(M))}(0,c.useEffect)((function(){t(H)}),[H,t]);var Q={option:function(e,t){return(0,n.Z)((0,n.Z)({},e),{},{color:t.isSelected?"#f3f3f3":"rgba(243, 243, 243, 0.4)"})}};return(0,h.jsxs)("div",{className:d,children:[(0,h.jsxs)("form",{className:g,onSubmit:L((function(e){U((0,n.Z)((0,n.Z)({},H),{},{search:e.name}))})),children:[(0,h.jsx)("input",(0,n.Z)((0,n.Z)({className:f},I("name")),{},{placeholder:"Enter the text",type:"text",name:"name",value:N,onChange:function(e){return y(e.target.value)}})),(0,h.jsx)("button",{className:m,type:"submit",children:(0,h.jsx)(_.jRj,{className:p})})]}),(0,h.jsx)(s.ZP,{classNamePrefix:"drinks-page-selector",placeholder:"Select...",defaultValue:"",name:"category",value:{value:C,label:C},options:[{value:"All categories",label:"All categories"}].concat(z),onChange:function(e){A("All categories"===e.value?"":e.value),U((0,n.Z)((0,n.Z)({},H),{},{category:"All categories"===e.value?"":e.value}))},styles:Q}),(0,h.jsx)(s.ZP,{classNamePrefix:"drinks-page-selector",placeholder:"Select...",defaultValue:"",name:"ingredient",value:{value:E,label:E},options:[{value:"All ingredients",label:"All ingredients"}].concat(K),onChange:function(e){F("All ingredients"===e.value?"":e.value),U((0,n.Z)((0,n.Z)({},H),{},{ingredient:"All ingredients"===e.value?"":e.value}))},styles:Q})]})},Z=a(8423),x=a(7072),k="DrinksList_list__OiUJk",b=function(e){var t=e.cocktails;if(!t)return(0,h.jsx)(x.Z,{});var a=t.drinks;return(0,h.jsx)("ul",{className:k,children:a.map((function(e){return(0,h.jsx)(Z.Z,{id:e._id,drink:e.drink,drinkThumb:e.drinkThumb},e._id)}))})},j=a(1405),N="DrinkPageTitle_title__Mnm9y",y=function(e){var t=e.title;return(0,h.jsx)("h2",{className:N,children:t})},P=a(1087),S=a(9846),C=a(3785),A=a(1998),w="DrinksPage_wrapper__3w1um",D=function(){var e=(0,o.TH)(),t=new URLSearchParams(e.search).get("category"),a=(0,o.UO)().categoryName,s=(0,u.PR)().data,l=(0,c.useState)(""),d=(0,i.Z)(l,2),g=d[0],f=d[1],m=(0,c.useState)(!0),p=(0,i.Z)(m,2),_=p[0],Z=p[1],x=(0,u.VK)(g),k=x.data,N=x.isError,D=(0,S.Z)().width,E=(0,P.lr)({category:a.replace("_","/"),limit:10,page:1}),F=(0,i.Z)(E,2),T=F[0],O=F[1],B=(0,c.useCallback)((function(){return Object.fromEntries((0,r.Z)(T))}),[T]);(0,c.useEffect)((function(){s&&_&&(s.includes(a)||(O((0,n.Z)((0,n.Z)({},B()),{},{category:s.includes(t)?t:"Cocktail"})),console.log(t),Z(!1)))}),[s,_,a,O,B,t]),(0,c.useEffect)((function(){O((0,n.Z)((0,n.Z)({},B()),{},{limit:D>=1440?9:10}))}),[O,D,B]),"All categories"===a&&O((0,n.Z)((0,n.Z)({},B()),{},{category:""}));var I=(0,c.useCallback)((function(e){O((0,n.Z)((0,n.Z)({},B()),e))}),[B,O]);(0,c.useEffect)((function(){var e=B(),t=e.search,a=void 0===t?"":t,n=e.category,r=e.ingredient,i=void 0===r?"":r,c=e.limit,s=e.page;f("?search=".concat(a,"&category=").concat("All categories"===n?"":n,"&ingredient=").concat("All ingredients"===i?"":i,"&limit=").concat(c,"&page=").concat(s))}),[B]);var L=Math.ceil((null===k||void 0===k?void 0:k.totalHits)/T.get("limit"));return(0,h.jsx)("section",{className:w,children:(0,h.jsxs)(j.Z,{children:[(0,h.jsx)(y,{title:"Drinks"}),(0,h.jsx)(v,{onFilterChange:I}),N?(0,h.jsx)(A.Z,{title:"No drinks were found"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b,{cocktails:k}),(0,h.jsx)(C.Z,{pagesQty:L,params:(0,n.Z)({},B())})]})]})})}}}]);
//# sourceMappingURL=30.a49dffee.chunk.js.map